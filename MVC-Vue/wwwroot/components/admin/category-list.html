<v-container fluid>
    <v-card>
        <v-card-title class="d-flex align-center">
            Quản lý Danh mục
            <v-spacer></v-spacer>
            <v-btn color="primary" @click="openNewDialog">
                <v-icon start>mdi-plus</v-icon>
                Tạo mới
            </v-btn>
        </v-card-title>

        <v-divider></v-divider>

        <v-data-table :headers="headers"
                      :items="categories"
                      :loading="loading"
                      item-key="id"
                      class="elevation-1">
            <template v-slot:item.actions="{ item }">
                <v-btn icon="mdi-pencil" variant="text" color="blue" @click="openEditDialog(item)"></v-btn>
                <v-btn icon="mdi-delete" variant="text" color="red" @click="openDeleteDialog(item)"></v-btn>
            </template>
        </v-data-table>
    </v-card>

    <v-dialog v-model="dialog" max-width="500px">
        <v-card>
            <v-card-title>
                <span class="text-h5">{{ formTitle }}</span>
            </v-card-title>
            <v-card-text>
                <v-container>
                    <v-row>
                        <v-col cols="12">
                            <v-text-field v-model="editedItem.name"
                                          label="Tên danh mục"
                                          variant="outlined"
                                          density="compact"
                                          :rules="[v => !!v || 'Tên là bắt buộc']"></v-text-field>
                        </v-col>
                    </v-row>
                </v-container>
            </v-card-text>
            <v-card-actions>
                <v-spacer></v-spacer>
                <v-btn color="grey" @click="closeDialog">Hủy</v-btn>
                <v-btn color="primary" @click="save">Lưu</v-btn>
            </v-card-actions>
        </v-card>
    </v-dialog>

    <v-dialog v-model="dialogDelete" max-width="500px">
        <v-card>
            <v-card-title class="text-h5">Bạn có chắc muốn xóa?</v-card-title>
            <v-card-actions>
                <v-spacer></v-spacer>
                <v-btn color="grey" @click="closeDeleteDialog">Hủy</v-btn>
                <v-btn color="red" @click="deleteItemConfirm">XÓA</v-btn>
                <v-spacer></v-spacer>
            </v-card-actions>
        </v-card>
    </v-dialog>

</v-container>